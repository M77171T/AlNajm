  # إضافة وظيفة بناء الأندرويد
  android-build:
    runs-on: ubuntu-22.04
    steps:
      - uses: actions/checkout@v4

      - name: تثبيت أدوات الأندرويد
        run: |
          sudo apt-get update
          sudo apt-get install -y build-essential libtool autotools-dev automake pkg-config bsdmainutils curl git python3
          # تثبيت أدوات بناء أندرويد (NDK)
          sudo apt-get install -y openjdk-17-jdk
          echo "ANDROID_SDK_ROOT=$ANDROID_SDK_ROOT" >> $GITHUB_ENV

      - name: بناء نسخة الأندرويد (Android Build)
        run: |
          chmod +x autogen.sh
          ./autogen.sh
          # إعداد البناء لمعالج ARM64 (أغلب الهواتف الحديثة)
          ./configure --host=aarch64-linux-android --enable-static --disable-shared --with-gui=no
          make -j$(nproc)

      - name: تحميل تطبيق النجم للأندرويد
        uses: actions/upload-artifact@v4
        with:
          name: النجم-أندرويد
          path: src/alnajmd
